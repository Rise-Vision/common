var RiseVision=RiseVision||{};RiseVision.Common=RiseVision.Common||{},RiseVision.Common.RiseCache=function(){"use strict";function e(e){var n=new XMLHttpRequest;e&&"function"==typeof e&&(n.open("GET",t+"ping?callback=_",!0),n.onreadystatechange=function(){try{4===n.readyState&&(o=!0,200===n.status?(i=!0,e(!0,n.responseText)):(console.debug("Rise Cache is not running"),i=!1,e(!1,null)))}catch(t){console.debug("Caught exception: ",t.description)}},n.send())}function n(e,n,s){function r(n){var o,i,r;n?o=s?t+"?url="+encodeURIComponent(e):t+"cb="+(new Date).getTime()+"?url="+encodeURIComponent(e):s?o=e:(i=e.split("?"),r=1===i.length?"?":"&",o=e+r+"cb="+(new Date).getTime()),u("HEAD",o)}function u(e,t){var o=new XMLHttpRequest,s={xhr:o,url:t};o.open(e,t,!0),o.onerror=function(){var r=o.status||0;"HEAD"===e?u("GET",t):i?n(s,new Error("The request failed with status code: "+r)):n(s)},o.onload=function(){var i=o.status||0;i>=200&&300>i?n(s):"HEAD"===e?u("GET",t):n(s,new Error("The request failed with status code: "+i))},o.send()}if(e&&n&&"function"==typeof n)return o?r(i):this.ping(r)}var t="http://localhost:9494/",o=!1,i=!1;return{getFile:n,ping:e}}();