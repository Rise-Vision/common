var RiseVision=RiseVision||{};RiseVision.Common=RiseVision.Common||{},RiseVision.Common.RiseCache=function(){"use strict";function e(e){var n=new XMLHttpRequest;e&&"function"==typeof e&&(n.open("GET",t+"ping",!0),n.onreadystatechange=function(){try{4===n.readyState&&(i=!0,200===n.status?(o=!0,e(!0,n.responseText)):(console.debug("Rise Cache is not running"),o=!1,e(!1,null)))}catch(t){console.debug("Caught exception: ",t.description)}},n.send())}function n(e,n,s){function r(i){var o,r,u,c,a=new XMLHttpRequest;i?(o=s?t+"?url="+encodeURIComponent(e):t+"cb="+(new Date).getTime()+"?url="+encodeURIComponent(e),c={xhr:a,url:o},a.open("GET",o,!0),a.addEventListener("loadend",function(){var e=a.status||0;0===e||e>=200&&300>e?n(c):n(c,new Error("The request failed with status code: "+e))}),a.send()):(s?o=e:(r=e.split("?"),u=1===r.length?"?":"&",o=e+u+"cb="+(new Date).getTime()),c={xhr:null,url:o},n(c))}if(e&&n&&"function"==typeof n)return i?r(o):this.ping(r)}var t="http://localhost:9494/",i=!1,o=!1;return{getFile:n,ping:e}}();