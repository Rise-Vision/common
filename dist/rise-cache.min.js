var RiseVision=RiseVision||{};RiseVision.Common=RiseVision.Common||{},RiseVision.Common.RiseCache=function(){"use strict";function n(n){var e=new XMLHttpRequest,i=this;n&&"function"==typeof n&&(c?e.open("GET",o,!0):e.open("GET",o+"ping?callback=_",!0),e.onreadystatechange=function(){try{if(4===e.readyState)if(s=!0,200===e.status)u=!0,n(!0,e.responseText);else{if(404===e.status)return c=!0,i.ping(n);console.debug("Rise Cache is not running"),u=!1,n(!1,null)}}catch(t){console.debug("Caught exception: ",t.description)}},e.send())}function e(n,e){function i(){var e="";e=c?o+"files?url="+encodeURIComponent(n):u?o+"?url="+encodeURIComponent(n):n,t("HEAD",e)}function t(n,i){var o=new XMLHttpRequest,s={xhr:o,url:i};u||c?(o.open(n,i,!0),o.addEventListener("loadend",function(){var u=o.status||0;u>=200&&300>u?e(s):"HEAD"===n?t("GET",i):e(s,new Error("The request failed with status code: "+u))}),o.send()):e(s)}if(n&&e&&"function"==typeof e)return s?i():this.ping(i)}function i(n){return n&&"function"==typeof n?s?(n(u),void 0):this.ping(function(){n(u)}):void 0}function t(n){return n&&"function"==typeof n?s?(n(c),void 0):this.ping(function(){n(c)}):void 0}var o="//localhost:9494/",s=!1,u=!1,c=!1;return{getFile:e,isRiseCacheRunning:i,isV2Running:t,ping:n}}();