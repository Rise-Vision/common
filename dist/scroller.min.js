var RiseVision=RiseVision||{};RiseVision.Common=RiseVision.Common||{},RiseVision.Common.Scroller=function(e){"use strict";function t(){x=0;for(var e=0;e<g.length;e++)n(g[e])}function n(e){var t,n={};e&&(n.text=C.unescapeHTML(e.text)+" ",e.fontStyle&&(t=e.fontStyle,t.font&&t.font.family&&(n.font=t.font.family),t.size&&(n.size=t.size),t.forecolor&&(n.foreColor=t.forecolor),t.bold&&(n.bold=t.bold),t.italic&&(n.italic=t.italic)),i(n))}function i(e){var t="";v.save(),e.bold&&(t="bold "),e.italic&&(t+="italic "),e.size&&(t+=e.size+" "),e.font&&(t+=e.font),v.font=t,v.fillStyle=e.foreColor,v.translate(0,p.height/2),v.fillText(e.text,x,0),x+=v.measureText(e.text).width,v.restore()}function o(){var e=0,t=0;if(w=x,g.length>0)for(;e<m.width;)n(g[t]),e=x-w,t=t===g.length-1?0:t+1}function l(){return w/m.width*10}function s(){h.clearRect(0,0,m.width,m.height),h.drawImage(p,h.xpos,0)}function r(){h.xpos=0,m.dispatchEvent(new CustomEvent("done",{bubbles:!0}))}function a(){p=document.createElement("canvas"),p.id="secondary",p.style.display="none",v=c(p),document.body.appendChild(p)}function c(t){var n=t.getContext("2d");return t.width=e.getInt("rsW"),t.height=e.getInt("rsH"),n.xpos=0,n}function f(e){g=e,m=document.getElementById("scroller"),h=c(m),a(),t(),o(),p.width=x,t(),o(),TweenLite.ticker.addEventListener("tick",s)}function u(){y||(y=TweenLite.to(h,l(),{xpos:-w,ease:Linear.easeNone,onComplete:r})),y.play()}function d(){y.pause()}var m=null,h=null,p=null,v=null,y=null,g=[],x=0,w=0,C=RiseVision.Common.Utilities;return{init:f,play:u,pause:d}};