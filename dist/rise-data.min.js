var RiseVision=RiseVision||{};RiseVision.Common=RiseVision.Common||{},RiseVision.Common.RiseData=function(n){"use strict";function t(n,t){var e;return"string"==typeof t&&(e=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2}(?:\.\d*)?)Z$/.exec(t))?new Date(Date.UTC(+e[1],+e[2]-1,+e[3],+e[4],+e[5],+e[6])):t}function e(){return"session"===n.storageType}function o(){return"local"===n.storageType}function i(n,i){var s=null;if(o())try{s=JSON.parse(localStorage.getItem(n),t)}catch(c){console.warn(c)}else if(e())try{s=JSON.parse(sessionStorage.getItem(n),t)}catch(c){console.warn(c)}i(s)}function s(t,e){var o=J+"/"+n.endpoint;return("DELETE"===e||"GET"===e)&&(o+="/"+t),o}function c(n){v&&"function"==typeof v&&(null!==n&&"object"==typeof n&&(n=JSON.stringify(n)),n=JSON.parse(n,t),v(n)),v=null}function f(){v&&"function"==typeof v&&i(O,v)}function r(n){$.getJSON(n).done(function(n){c(n)}).fail(function(){f()})}function u(n,t){$.post(n,t).done(function(){c(),N.push(h)})}function a(n,t){var e=s(n,"GET");h=n,v=t,O=n,r(e)}function l(n,t){var e=s(n,"POST"),o=JSON.stringify({key:n,value:t});h=n,u(e,o)}function p(){}function y(t,e){S&&t&&e&&"function"==typeof e&&(R?n.endpoint?a(t,e):i(t,e):i(t,e))}function g(n){n&&"function"==typeof n&&d.isRiseCacheRunning(function(t){R=t,S=!0,n()})}function m(t,i){if(S&&t&&i)if(R&&n.endpoint&&l(t,i),o())try{localStorage.setItem(t,JSON.stringify(i))}catch(s){console.warn(s)}else if(e())try{sessionStorage.setItem(t,JSON.stringify(i))}catch(s){console.warn(s)}}var d=RiseVision.Common.RiseCache,S=!1,R=!1,h=null,v=null,O=null,J="https://localhost:9495",N=[];return{deleteItem:p,getItem:y,init:g,saveItem:m}};